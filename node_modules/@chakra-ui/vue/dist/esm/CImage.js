import{T as t}from"./index-65eacd9d.js";import"emotion";import"./index-668926cd.js";import i from"./CNoSsr.js";var r={name:"CImage",mixins:[t("CImage")],props:{src:String,fallbackSrc:String,ignoreFalback:Boolean,htmlWidth:String,htmlHeight:String,size:[String,Number]},data:function(){return{image:void 0,hasLoaded:!1}},computed:{componentStyles:function(){return{w:this.size,h:this.size}}},created:function(){process.browser&&this.loadImage(this.src)},methods:{loadImage:function(t){var i=this,r=new window.Image;r.src=t,r.onload=function(t){i.hasLoaded=!0,i.$emit("load",t)},r.onerror=function(t){i.hasLoaded=!1,i.$emit("error",t)}}},render:function(t){var r;return r=this.ignoreFallback?{src:this.src}:{src:this.hasLoaded?this.src:this.fallbackSrc},t(i,[t("img",{class:this.className,attrs:Object.assign({},r,this.computedAttrs,{width:this.htmlWidth,height:this.htmlHeight})})])}};export default r;
